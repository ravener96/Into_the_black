{{!-- Adjustable configuration --}}
<div class="layout-config">
  <label for="arm-offset">Arm Position:</label>
  <input 
    type="range" 
    id="arm-offset" 
    name="arm-offset" 
    min="0" 
    max="100" 
    value="30"
    class="arm-position-slider" 
    data-target="arm-offset"
  >
  <span id="arm-offset-value">30px</span>
</div>

{{!-- 2D Body Layout --}}
<div class="body-layout">
  {{!-- Head - Top Center --}}
  <div class="body-part body-head">
    <h3>Head</h3>
    <ol class='items-list' id='items-head'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='head'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_head as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{!-- Add empty rows to maintain height --}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>

  {{!-- Left Arm - Left Side --}}
  <div class="body-part body-arm-l">
    <h3>Left Arm</h3>
    <ol class='items-list' id='items-arm-l'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='arm_l'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_arm_l as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>

  {{!-- Left Torso - Middle Left --}}
  <div class="body-part body-torso-l">
    <h3>Torso (Left)</h3>
    <ol class='items-list' id='items-torso-l'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='torso_l'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_torso_l as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>

  {{!-- Center Torso - Middle --}}
  <div class="body-part body-torso-c">
    <h3>Torso (Center)</h3>
    <ol class='items-list' id='items-torso-c'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='torso_c'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_torso_c as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>

  {{!-- Right Torso - Middle Right --}}
  <div class="body-part body-torso-r">
    <h3>Torso (Right)</h3>
    <ol class='items-list' id='items-torso-r'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='torso_r'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_torso_r as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>

  {{!-- Right Arm - Right Side --}}
  <div class="body-part body-arm-r">
    <h3>Right Arm</h3>
    <ol class='items-list' id='items-arm-r'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='arm_r'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_arm_r as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>

  {{!-- Left Leg - Bottom Left --}}
  <div class="body-part body-leg-l">
    <h3>Left Leg</h3>
    <ol class='items-list' id='items-leg-l'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='leg_l'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_leg_l as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>

  {{!-- Right Leg - Bottom Right --}}
  <div class="body-part body-leg-r">
    <h3>Right Leg</h3>
    <ol class='items-list' id='items-leg-r'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize 'Name'}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Item'}}'
            data-type='item'
            data-location='leg_r'
          >
            <i class='fas fa-plus'></i>
          </a>
        </div>
      </li>
      {{#each items_leg_r as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{else}}
        {{#times 6}}
          <li class='item flexrow empty-item'><div class='item-name'></div></li>
        {{/times}}
      {{/each}}
    </ol>
  </div>
</div>
